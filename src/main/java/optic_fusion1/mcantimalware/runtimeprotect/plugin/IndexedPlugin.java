package optic_fusion1.mcantimalware.runtimeprotect.plugin;

import java.io.File;
import java.util.ArrayList;
import java.util.List;
import optic_fusion1.mcantimalware.AntiMalware;
import optic_fusion1.mcantimalware.configuration.file.FileConfiguration;
import optic_fusion1.mcantimalware.logging.CustomLogger;

public class IndexedPlugin {

    private FileConfiguration config;
    private File file;
    private CustomLogger logger;

    public IndexedPlugin(FileConfiguration config, File file) {
        this.config = config;
        this.file = file;
        logger = AntiMalware.getMain().getLogger();
    }

    public FileConfiguration getPluginYml() {
        return config;
    }

    public String getName() {
        return config.getString("name");
    }

    public String getAuthor() {
        if (config.isString("author")) {
            return config.getString("author");
        }
        return "Author not found";
    }

    public List<String> getAuthors() {
        if (config.isList("author")) {
            return config.getStringList("Author");
        } else if (config.isList("authors")) {
            return config.getStringList("authors");
        }
        return new ArrayList<>();
    }

    public String getMainClass(){
        return config.getString("main");
    }
    
}
